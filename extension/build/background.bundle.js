(()=>{"use strict";const e=()=>{let e;chrome.tabs.query({active:!0},(o=>{const n=o[0];chrome.scripting.executeScript({target:{tabId:n.id,allFrames:!0},func:t},(t=>{e=t.flatMap((e=>e.result)),chrome.tabs.create({url:"dowloadPage.html",active:!1},(t=>{setTimeout((()=>{chrome.tabs.sendMessage(t.id,e,(e=>{chrome.tabs.update(t.id,{active:!0})}))}),500)}))}))}))},t=()=>{const e=document.querySelectorAll("img"),t=Array.from(e).map((e=>e.src));return console.log(t),t};console.log("This is the background page."),console.log("Put the background scripts here."),chrome.runtime.onInstalled.addListener((()=>{chrome.contextMenus.create({id:"massDownloadingMenu",title:"Download Options",contexts:["page","selection","link"],documentUrlPatterns:["*://*.instagram.com/*"]}),chrome.contextMenus.create({parentId:"massDownloadingMenu",id:"massDownloadOption",title:"Mass Downloading"})})),chrome.contextMenus.onClicked.addListener(((t,o)=>{if("massDownloadOption"===t.menuItemId){e()}}))})();