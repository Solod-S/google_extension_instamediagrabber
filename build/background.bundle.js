console.log("This is the background page."),console.log("Put the background scripts here."),chrome.runtime.onInstalled.addListener((()=>{chrome.contextMenus.create({id:"massDownloadingMenu",title:"Download Options",contexts:["page","selection","link"],documentUrlPatterns:["*://*.instagram.com/*"]}),chrome.contextMenus.create({parentId:"massDownloadingMenu",id:"massDownloadOption",title:"Mass Downloading"})})),chrome.contextMenus.onClicked.addListener(((e,t)=>{if("massDownloadOption"===e.menuItemId){let e;const t=()=>{chrome.tabs.query({active:!0},(t=>{const n=t[0];chrome.scripting.executeScript({target:{tabId:n.id,allFrames:!0},func:o},(t=>{e=t.flatMap((e=>e.result)),chrome.tabs.create({url:"dowloadPage.html",active:!1},(t=>{setTimeout((()=>{chrome.tabs.sendMessage(t.id,e,(e=>{chrome.tabs.update(t.id,{active:!0})}))}),500)}))}))}))},o=()=>{const e=document.querySelectorAll("img"),t=Array.from(e).map((e=>e.src));return console.log(t),t};t()}}));